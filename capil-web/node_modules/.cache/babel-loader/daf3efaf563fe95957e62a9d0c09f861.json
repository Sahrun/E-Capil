{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport { config } from './Config';\nimport { handleResponse } from './HandleResponseSevice';\nimport axios from 'axios';\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\nexport const authenticationService = {\n  login,\n  logout,\n  currentUser: currentUserSubject.asObservable(),\n\n  get currentUserValue() {\n    return currentUserSubject.value;\n  }\n\n};\n\nfunction login(user) {\n  axios.post(config.apiUrl + 'login', user).then(handleResponse).then(respose => {\n    localStorage.setItem('currentUser', JSON.stringify(respose));\n    currentUserSubject.next(respose);\n  }).catch(err => {\n    console.log(err);\n  });\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem('currentUser');\n  currentUserSubject.next(null);\n}","map":{"version":3,"sources":["C:\\Users\\Administrator\\Documents\\E-Capil\\capil-web\\src\\service\\AutenticationService.js"],"names":["BehaviorSubject","config","handleResponse","axios","currentUserSubject","JSON","parse","localStorage","getItem","authenticationService","login","logout","currentUser","asObservable","currentUserValue","value","user","post","apiUrl","then","respose","setItem","stringify","next","catch","err","console","log","removeItem"],"mappings":"AAAA,SAASA,eAAT,QAAgC,MAAhC;AAEA,SAAQC,MAAR,QAAqB,UAArB;AACA,SAASC,cAAT,QAA+B,wBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,kBAAkB,GAAG,IAAIJ,eAAJ,CAAoBK,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAApB,CAA3B;AAEA,OAAO,MAAMC,qBAAqB,GAAG;AACjCC,EAAAA,KADiC;AAEjCC,EAAAA,MAFiC;AAGjCC,EAAAA,WAAW,EAAER,kBAAkB,CAACS,YAAnB,EAHoB;;AAIjC,MAAIC,gBAAJ,GAAwB;AAAE,WAAOV,kBAAkB,CAACW,KAA1B;AAAiC;;AAJ1B,CAA9B;;AAOP,SAASL,KAAT,CAAeM,IAAf,EAAqB;AACjBb,EAAAA,KAAK,CAACc,IAAN,CAAWhB,MAAM,CAACiB,MAAP,GAAc,OAAzB,EAAkCF,IAAlC,EACCG,IADD,CACMjB,cADN,EACsBiB,IADtB,CAC2BC,OAAO,IAAI;AAClCb,IAAAA,YAAY,CAACc,OAAb,CAAqB,aAArB,EAAoChB,IAAI,CAACiB,SAAL,CAAeF,OAAf,CAApC;AACAhB,IAAAA,kBAAkB,CAACmB,IAAnB,CAAwBH,OAAxB;AAEH,GALD,EAKGI,KALH,CAKSC,GAAG,IAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,GAPD;AAQH;;AAED,SAASd,MAAT,GAAkB;AACd;AACAJ,EAAAA,YAAY,CAACqB,UAAb,CAAwB,aAAxB;AACAxB,EAAAA,kBAAkB,CAACmB,IAAnB,CAAwB,IAAxB;AACH","sourcesContent":["import { BehaviorSubject } from 'rxjs';\r\n\r\nimport {config} from './Config';\r\nimport { handleResponse } from './HandleResponseSevice';\r\nimport axios from 'axios';\r\n\r\nconst currentUserSubject = new BehaviorSubject(JSON.parse(localStorage.getItem('currentUser')));\r\n\r\nexport const authenticationService = {\r\n    login,\r\n    logout,\r\n    currentUser: currentUserSubject.asObservable(),\r\n    get currentUserValue () { return currentUserSubject.value }\r\n};\r\n\r\nfunction login(user) {\r\n    axios.post(config.apiUrl+'login', user)\r\n    .then(handleResponse).then(respose => {\r\n        localStorage.setItem('currentUser', JSON.stringify(respose));\r\n        currentUserSubject.next(respose);\r\n\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n}\r\n\r\nfunction logout() {\r\n    // remove user from local storage to log user out\r\n    localStorage.removeItem('currentUser');\r\n    currentUserSubject.next(null);\r\n}"]},"metadata":{},"sourceType":"module"}